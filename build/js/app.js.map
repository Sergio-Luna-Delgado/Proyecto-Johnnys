{"version":3,"sources":["app.js"],"names":["Tabla","id","url","$","DataTable","processing","serverSide","order","ajax","type","columnsDefs","targets","orderable","language","decimal","emptyTable","info","infoEmpty","infoFiltered","infoPostFix","thousands","lengthMenu","loadingRecords","search","zeroRecords","paginate","first","last","next","previous","cartas","document","querySelector","data","categoria","success","JSON","parse","card_container","forEach","producto","card","foto","nombre_producto","precio_unitario","id_producto","descripcion","innerHTML","validarComprar","method","status","alert","message","window","location","href","modal","error","jqXHR","textStatus","errorThrown","carrito","opcion","cantidad","value","promotion","ready","click","reset","val","html","on","event","preventDefault","email","pass","correo","contrase単a","rol","extension","split","pop","toLowerCase","jQuery","inArray","FormData","this","contentType","processData","reload","attr","dataType","inventario","promocion","text","confirm","Operacion","contra1","contra2","contra"],"mappings":"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","file":"app.js","sourcesContent":["$(document).ready(function () {\r\n    /* Mostrar el modal con la advertencia */\r\n    $('#aviso_administrador').modal('show');\r\n\r\n    /* Mandar a llamar la tabla de las ordenes */\r\n    Tabla(\"datos_ordenes\", \"obtener_ordenes.php\");\r\n\r\n    /* Mandar a llamar la tabla de auditoria */\r\n    Tabla(\"datos_auditar\", \"obtener_auditar.php\");\r\n\r\n    $(\"#Crear\").click(function () {\r\n        $(\"#formulario_producto\")[0].reset();\r\n        $(\"#action\").val(\"Crear\");\r\n        $(\"#Operacion\").val(\"Crear\");\r\n        $(\"#Foto_Subida\").html(\"\");\r\n    });\r\n\r\n    /* Mandar a llamar la tabla de auditoria */\r\n    Tabla(\"datos_productos\", \"obtener_productos.php\");\r\n\r\n    /* Mandar a llamar las cards del bloque principal */\r\n    cartas(\"productosPrimario.php\", \"card-container\");\r\n\r\n    /* Mandar a llamar las cards del bloque secundario */\r\n    cartas(\"productosSecundario.php\", \"card-container-2\");\r\n\r\n    /* Mandar a llamar la tabla del carrito */\r\n    Tabla(\"datos_carrito\", \"obtener_carrito.php\");\r\n\r\n    /* Mandar a llamar la tabla del pedidos pendientes */\r\n    Tabla(\"datos_pedidos\", \"obtener_pedidos.php\");\r\n});\r\n\r\n/* Codigo para validar el login de los administradores */\r\n$(document).on('submit', '#login_admin', function (event) {\r\n    event.preventDefault();\r\n    const email = $(\"#email\").val();\r\n    const pass = $(\"#contrase単a\").val();\r\n    $.ajax({\r\n        url: \"/includes/functions/login_validate.php\",\r\n        type: \"POST\",\r\n        data: { correo: email, contrase単a: pass, rol: \"administradores\" },\r\n        success: function (data) {\r\n            data = JSON.parse(data);\r\n            if (data.status == \"success\") {\r\n                alert(data.message);\r\n                window.location.href = '/admin/propiedades/ordenes.php';\r\n            }\r\n            else {\r\n                alert(data.message);\r\n                $(\"#contrase単a\").val(\"\");\r\n            }\r\n        },\r\n        error: function (textStatus, errorThrown) {\r\n            alert(textStatus + errorThrown);\r\n        }\r\n    });\r\n});\r\n\r\n/* Script para el dataTable */\r\nfunction Tabla(id, url) {\r\n    let dataTable = $('#' + id).DataTable({\r\n        \"processing\": true,\r\n        \"serverSide\": true,\r\n        \"order\": [],\r\n        \"ajax\": {\r\n            url: \"/includes/functions/\" + url,\r\n            type: \"POST\",\r\n        },\r\n        \"columnsDefs\": [{\r\n            \"targets\": [0, 3, 4],\r\n            \"orderable\": false,\r\n        },\r\n        ],\r\n        \"language\": {\r\n            \"decimal\": \"\",\r\n            \"emptyTable\": \"No hay registros\",\r\n            \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n            \"infoEmpty\": \"Mostrando 0 to 0 of 0 Entradas\",\r\n            \"infoFiltered\": \"(Filtrado de _MAX_ total entradas)\",\r\n            \"infoPostFix\": \"\",\r\n            \"thousands\": \",\",\r\n            \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n            \"loadingRecords\": \"Cargando...\",\r\n            \"processing\": \"Procesando...\",\r\n            \"search\": \"Buscar:\",\r\n            \"zeroRecords\": \"Sin resultados encontrados\",\r\n            \"paginate\": {\r\n                \"first\": \"Primero\",\r\n                \"last\": \"Ultimo\",\r\n                \"next\": \"Siguiente\",\r\n                \"previous\": \"Anterior\"\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/* Codigo para crear/actualizar - Productos */\r\n$(document).on('submit', '#formulario_producto', function (event) {\r\n    event.preventDefault();\r\n    let imagen = $(\".img-thumnail\").val();\r\n    // alert(imagen);\r\n    let extension = $(\"#foto\").val().split('.').pop().toLowerCase();\r\n    /* Busca un formato de imagen valido */\r\n    if (extension != '') {\r\n        if (jQuery.inArray(extension, ['gif', 'png', 'jpg', 'jpeg']) == -1) {\r\n            $('#foto').val('');\r\n            alert(\"Formato de imagen invalido\");\r\n            return false;\r\n        }\r\n    }\r\n    $.ajax({\r\n        url: \"/includes/functions/producto.php\",\r\n        type: \"POST\",\r\n        data: new FormData(this),\r\n        contentType: false,\r\n        processData: false,\r\n        success: function (data) {\r\n            data = JSON.parse(data);\r\n            if (data.status == \"success\") {\r\n                alert(data.message);\r\n                $('#formulario_producto')[0].reset();\r\n                $('#ingresar_producto').modal('hide');\r\n                // dataTable.ajax.reload();\r\n                location.reload();\r\n            }\r\n            else {\r\n                alert(data.message);\r\n            }\r\n        },\r\n        error: function (textStatus, errorThrown) {\r\n            alert(textStatus + errorThrown);\r\n        }\r\n    });\r\n    // if (imagen != '') {\r\n    // }\r\n    // else {\r\n    //     alert(\"La imagen es obligatoria\")\r\n    // }\r\n});\r\n\r\n/* Boton para editar desde el modal - Productos */\r\n$(document).on('click', '.editarProducto', function () {\r\n    let id = $(this).attr(\"id\");\r\n    $.ajax({\r\n        url: \"/includes/functions/obtener_un_producto.php\",\r\n        method: \"POST\",\r\n        data: { id_producto: id },\r\n        dataType: \"json\",\r\n        success: function (data) {\r\n            $('#ingresar_producto').modal('show');\r\n            $('#nombre_producto').val(data.nombre_producto);\r\n            $('#categoria').val(data.categoria);\r\n            $('#descripcion').val(data.descripcion);\r\n            $('#precio_unitario').val(data.precio_unitario);\r\n            $('#inventario').val(data.inventario);\r\n            $('#promocion').val(data.promocion);\r\n            $('#Foto_Subida').html(data.foto);\r\n            $('.modal-title').text(\"Editar Producto\");\r\n            $('#id_producto').val(id);\r\n            $('#action').val(\"Actualizar\");\r\n            $('#Operacion').val(\"Editar\");\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) {\r\n            alert(textStatus + errorThrown);\r\n        }\r\n    });\r\n});\r\n\r\n/* Codigo para eliminar - Productos */\r\n$(document).on('click', '.borrarProducto', function () {\r\n    let id = $(this).attr(\"id\");\r\n    if (confirm(\"Esta seguro de borrar este producto: \" + id)) {\r\n        $.ajax({\r\n            url: \"/includes/functions/producto.php\",\r\n            method: \"POST\",\r\n            data: { id_producto: id, Operacion: \"Borrar\" },\r\n            success: function (data) {\r\n                data = JSON.parse(data);\r\n                if (data.status == \"success\") {\r\n                    alert(data.message);\r\n                    // dataTable.ajax.reload();\r\n                    location.reload();\r\n                }\r\n                else {\r\n                    alert(data.message);\r\n                }\r\n            },\r\n            error: function (jqXHR, textStatus, errorThrown) {\r\n                alert(textStatus + errorThrown);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n});\r\n\r\n/* Funcion para imprimir las cartas de los articulos productos */\r\nfunction cartas(url, id) {\r\n    let home = document.querySelector(\".contenedorPrimario\");\r\n    if (home) {\r\n        $.ajax({\r\n            url: \"includes/functions/\" + url,\r\n            type: \"POST\",\r\n            data: { \"categoria\": categoria },\r\n            success: function (data) {\r\n                if (data) {\r\n                    data = JSON.parse(data);\r\n                    card_container = document.querySelector(\"#\" + id);\r\n                    data.forEach(producto => {\r\n                        card =\r\n                            `<div class=\"col-12 col-sm-6 col-lg-4 mb-5\">\r\n                                <div class=\"card carta-width\">\r\n                                    <img src=\"pictures/${producto.foto}\" class=\"card-img-top carta-height\">\r\n                                    <div class=\"card-body\">\r\n                                        <h3 class=\"card-title fw-bold\">${producto.nombre_producto}</h3>\r\n                                        <p class=\"card-text text-danger fs-3\">$ ${producto.precio_unitario}</p>\r\n                                        <div align=\"center\"><button type=\"button\" onclick=\"validarComprar(${producto.id_producto})\" class=\"btn btn-warning py-2 px-4 fs-3\" id=\"btnDetalles\">Comprar</button></div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"modal fade\" id=\"detalles${producto.id_producto}\" tabindex=\"-1\" aria-labelledby=\"detalles_label\" aria-hidden=\"true\">\r\n                                    <div class=\"modal-dialog\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-header\">\r\n                                                <h1 class=\"modal-title fs-1 fw-bold\" id=\"detalles_label\">${producto.nombre_producto}</h1>\r\n                                                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                                            </div>\r\n                                            <div class=\"modal-body\">\r\n                                                <form method=\"POST\" id=\"formulario_subpedido\" class=\"login\" enctype=\"multipart/form-data\">\r\n                                                    <img src=\"pictures/${producto.foto}\" class=\"card-img-top\">\r\n                                                    <label class=\"text-dark fs-2 my-3\">${producto.descripcion}</label>\r\n                                                    <label class=\"text-danger fs-2 my-2 d-block\">$${producto.precio_unitario}</label>\r\n                                                    <label for=\"Cantidad${producto.id_producto}\" class=\"text-dark fs-2 me-2\">Seleccione la cantidad:</label>\r\n                                                    <input type=\"number\" name=\"Cantidad${producto.id_producto}\" id=\"Cantidad${producto.id_producto}\" class=\"input_numero\" value=\"1\" min=\"1\" max=\"100\"><br>\r\n                                                    <div align=\"center\">\r\n                                                        <input type=\"hidden\" name=\"id_producto\" id=\"id_Producto\" value=\"${producto.id_producto}\">\r\n                                                        <input type=\"button\" onclick=\"carrito(${producto.id_producto},1)\" name=\"btn1\" id=\"${producto.id_producto}\" class=\"btn btn-warning py-2 px-5 fs-2 my-4 w-75\" value=\"Agregar Carrito\"><br>\r\n                                                        <input type=\"button\" name=\"btn2\" onclick=\"carrito(${producto.id_producto},2)\" id=\"${producto.id_producto}\" class=\"btn btn-success py-2 px-4 fs-2 w-50\" value=\"Comprar Ya\"><br>\r\n                                                    </div>\r\n                                                </form>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>`;\r\n                        card_container.innerHTML += card;\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/* Codigo para validar que el usuario este registrado antes de comprar */\r\nfunction validarComprar(id) {\r\n    // alert(id);\r\n    $.ajax({\r\n        url: \"/includes/functions/validarUsuario.php\",\r\n        method: \"POST\",\r\n        success: function (data) {\r\n            data = JSON.parse(data);\r\n            if (data.status == \"error\") {\r\n                alert(data.message);\r\n                window.location.href = \"/login.php\"\r\n            }\r\n            else {\r\n                $('#detalles' + id).modal('show');\r\n            }\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) {\r\n            alert(textStatus + errorThrown);\r\n        }\r\n    });\r\n}\r\n\r\n/* Agrega articulos al carrito */\r\nfunction carrito(id, opcion) {\r\n    let cantidad = document.querySelector(\"#Cantidad\" + id).value;\r\n    $.ajax({\r\n        url: \"/includes/functions/carrito.php\",\r\n        method: \"POST\",\r\n        data: { id: id, cantidad: cantidad },\r\n        success: function (data) {\r\n            data = JSON.parse(data);\r\n            if (data.status == \"success\") {\r\n                alert(data.message);\r\n                if (data.promotion != \"Ninguna\") {\r\n                    alert(`Tiene una promocion del ${data.promotion}`);\r\n                }\r\n                if (opcion == 1) {\r\n                    $('#detalles' + id).modal('hide');\r\n                }\r\n                else {\r\n                    window.location.href = \"/carrito.php\";\r\n                }\r\n            }\r\n            else {\r\n                alert(data.message);\r\n            }\r\n\r\n        }, error: function (jqXHR, textStatus, errorThrown) {\r\n            alert(textStatus + errorThrown);\r\n        }\r\n    });\r\n}\r\n\r\n/* Codigo para validar el login de los usuarios */\r\n$(document).on('submit', '#login_usuario', function (event) {\r\n    event.preventDefault();\r\n    const email = $(\"#correo\").val();\r\n    const pass = $(\"#password\").val();\r\n    $.ajax({\r\n        url: \"/includes/functions/login_validate.php\",\r\n        type: \"POST\",\r\n        data: { correo: email, contrase単a: pass, rol: \"usuarios\" },\r\n        success: function (data) {\r\n            data = JSON.parse(data);\r\n            if (data.status == \"success\") {\r\n                alert(data.message);\r\n                window.location.href = '/';\r\n            }\r\n            else {\r\n                alert(data.message);\r\n                $(\"#password\").val(\"\");\r\n            }\r\n        },\r\n        error: function (textStatus, errorThrown) {\r\n            alert(textStatus + errorThrown);\r\n        }\r\n    });\r\n});\r\n\r\n/* Crear un usuario */\r\n$(document).on('submit', '#crear_usuario', function (event) {\r\n    event.preventDefault();\r\n    $.ajax({\r\n        url: \"/includes/functions/crear_user.php\",\r\n        type: \"POST\",\r\n        data: new FormData(this),\r\n        contentType: false,\r\n        processData: false,\r\n        success: function (data) {\r\n            data = JSON.parse(data);\r\n            if (data.status == \"success\") {\r\n                alert(`Tu cuenta se ha creado exitosamente, por favor inicia sesi坦n llenando tu nombre de usuario y tu contrase単a.`);\r\n                $('#ingresar_usuario').modal('hide');\r\n                $(\"#nombre_usuario\").val(\"\");\r\n                $(\"#apellido_usuario\").val(\"\");\r\n                $(\"#correo_user\").val(\"\");\r\n                $(\"#direccion\").val(\"\");\r\n                $(\"#contrase単a_user\").val(\"\");\r\n            }\r\n            else if (data.status == \"warning\") {\r\n                alert(data.message);\r\n                $(\"#correo_user\").val(\"\");\r\n                $(\"#contrase単a_user\").val(\"\");\r\n            }\r\n            else {\r\n                alert(data.message);\r\n                $('#ingresar_usuario').modal('hide');\r\n            }\r\n        },\r\n        error: function (textStatus, errorThrown) {\r\n            alert(textStatus + errorThrown);\r\n        }\r\n    });\r\n});\r\n\r\n/* Codigo para actualizar la contrae単a de lo usuarios desde ajustes */\r\n$(document).on('submit', '#actulizarContra', function (event) {\r\n    event.preventDefault();\r\n    const contra1 = $(\"#contrase単a1\").val();\r\n    const contra2 = $(\"#contrase単a2\").val();\r\n    const id = $(\"#id\").val();\r\n    if (contra1 === contra2) {\r\n        $.ajax({\r\n            url: \"/includes/functions/actualizarContra.php\",\r\n            type: \"POST\",\r\n            data: { contra: contra1, id: id },\r\n            success: function (data) {\r\n                data = JSON.parse(data);\r\n                if (data.status == \"success\") {\r\n                    alert(data.message);\r\n                    window.location.href = '/';\r\n                }\r\n                else {\r\n                    alert(data.message);\r\n                    $('#cambiarContrase単a').modal('hide');\r\n                }\r\n            },\r\n            error: function (textStatus, errorThrown) {\r\n                alert(textStatus + errorThrown);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        alert(\"La contrase単a NO coincide\");\r\n        $(\"#contrase単a2\").val(\"\");\r\n    }\r\n});\r\n\r\n/* Codigo para eliminar articulos del carrito */\r\n$(document).on('click', '.borrarArticulo', function () {\r\n    let id = $(this).attr(\"id\");\r\n    if (confirm(\"多Esta seguro de borrar este articulo?\")) {\r\n        $.ajax({\r\n            url: \"/includes/functions/borrar_carrito.php\",\r\n            method: \"POST\",\r\n            data: { id: id },\r\n            success: function (data) {\r\n                data = JSON.parse(data);\r\n                if (data.status == \"success\") {\r\n                    alert(data.message);\r\n                    window.location.href = \"/carrito.php\"\r\n                }\r\n                else {\r\n                    alert(data.message);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n});\r\n\r\n/* Codigo para marcar como completado los productos */\r\n$(document).on('click', '.borrarOrden', function () {\r\n    let id = $(this).attr(\"id\");\r\n    if (confirm(\"Deseas completar este registro: \" + id)) {\r\n        $.ajax({\r\n            url: \"/includes/functions/borrar_orden.php\",\r\n            method: \"POST\",\r\n            data: { id: id, },\r\n            success: function (data) {\r\n                data = JSON.parse(data);\r\n                if (data.status == \"success\") {\r\n                    alert(data.message);\r\n                    // dataTable.ajax.reload();\r\n                    location.reload();\r\n                }\r\n                else {\r\n                    alert(data.message);\r\n                }\r\n            },\r\n            error: function (jqXHR, textStatus, errorThrown) {\r\n                alert(textStatus + errorThrown);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n});"]}